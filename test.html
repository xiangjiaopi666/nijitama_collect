<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>nijitama角色收集</title>
	</head>
	<style>
		/*加载失败的图片会被隐藏*/
		.failed{
			display: none;
		}
		body {
			margin: 0;
			font-family: Arial, sans-serif;
		}
		
		#Character_overview {
			display: flex;
			flex-wrap: wrap;
			padding: 10px;
		}
		
		.image-container {
			width: 128px;
			height: 128px;
			margin: 5px;
			border-radius: 16px;
			overflow: hidden;
			transition: transform 0.2s ease, box-shadow 0.2s ease;
		}
		
		.image-container img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			cursor: pointer;
		}
		
		.image-container img:hover {
			transform: scale(1.1);
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
		}
		
		#photo {
			display: none;
			padding: 20px;
		}
		
		#photo div {
			margin-bottom: 20px;
		}
		
		/* 头像和技能图样式 */
		.first-row {
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		
		.skill-image-container {
			text-align: center;
		}
		
		.avatar-container {
			margin-top: 10px;
			text-align: left;
		}
		
		/* 桌面版样式 */
		.skill-image-container img {
			width: auto;
			height: auto;
			max-width: none;
			max-height: none;
			object-fit: contain;
		}
		
		.avatar-container img {
			max-width: 128px;
			max-height: 128px;
			object-fit: contain;
		}
		
		/* 手机版样式 */
		@media (max-width: 768px) {
		
			/* 使技能图宽度为手机宽度，保持宽高比 */
			.skill-image-container img {
				width: 100%;
				height: auto;
			}
		
			/* 头像容器仍然保持128px */
			.avatar-container img {
				max-width: 128px;
				max-height: 128px;
				object-fit: contain;
			}
		
			/* photo 内容内的黑色区域保持500px大小 */
			.black-box {
				width: 100%;
				height: 500px;
			}
		
			/* 居中缩略图容器 */
			#Character_overview {
				justify-content: center;
				flex-wrap: wrap;
			}
		
			/* 每行至少显示3个缩略图，并保持宽高比 */
			.image-container {
				width: calc(33.33% - 10px);
				margin: 5px;
				aspect-ratio: 1;
				display: flex;
				justify-content: center;
				align-items: center;
			}
		
			/* 确保图片充满容器并保持比例 */
			.image-container img {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		
			/* 默认表情图样式 */
			.def-face-container {
				display: flex;
				flex-wrap: wrap;
				justify-content: space-between;
				gap: 1px;
				/* 增加图片间的间隔 */
			}
		
			/* 每个表情图至少占屏幕的三分之一 */
			.def-face-container img {
				width: calc(33.33% - 20px);
				/* 每个表情图占屏幕宽度的三分之一 */
				object-fit: contain;
				/* 保持原图比例 */
			}
		
			/* 默认身体图样式 */
			.def-body-container img {
				width: calc(100%);
				/* 每个表情图占屏幕宽度的三分之一 */
				object-fit: contain;
				/* 保持原图比例 */
			}
		}
	</style>
	<script>
		const names = ["a000", "a001", "a002", "a003", "a004", "a005", "a006", "a007", "a008", "a009", "a010", "a011",
			"a012", "a015", "a016", "a018", "awt", "bic", "bin", "biz", "bun", "ckg", "ecg", "ecz", "har", "hit", "hiz",
			"hyu", "iga", "ina", "iwm", "iyo", "izu", "kag", "kai", "kaw", "kaz", "kii", "mik", "mus", "nag", "not",
			"oki", "osu", "oum", "owa", "sag", "san", "sim", "sin", "smu", "sur", "taj", "tnb", "tos", "wak", "ymt",
			"yzm"
		];

		//角色概览
		const Character_overview = names.map(name => `overview/f_${name}.png`);
		//角色技能图
		const Character_skill = names.map(name => `skill/c_${name}.png`);
		//角色表情图
		const Character_def_face = names.flatMap(name => {
			return Array.from({
					length: 21
				}, (_, number) =>
				`face/s_${name}_def_face_${String(number).padStart(2, '0')}.png`
			);
		});
		//角色身体图-站姿
		const Character_def_body = names.map(name => `def_body/s_${name}_def_body.png`);
		//角色身体图-战斗
		const Character_b_def_body = names.map(name => `def_body/b_${name}_def_body.png`);
		//角色身体图-战损
		const Character_b_def_dbody = names.map(name => `def_dbody/b_${name}_aw_dbody.png`);
		//角色浴室图
		const Character_barh = names.map(name => `def_dbody/s_${name}_bath_body.png`);
		//角色赞助图
		const Character_patronag = names.map(name => `def_dbody/s_${name}_pa_body.png`);
		//角色泳装
		const Character_swim = names.map(name => `def_dbody/s_${name}_swim_body.png`);
		//角色圣诞节
		const Character_christmas = names.map(name => `def_dbody/s_${name}_xmas_body.png`);

		// 加载角色概览图
		function LoadOverview() {
			const overviewDiv = document.getElementById('character-overview');
			// 清空概览区域
			overviewDiv.innerHTML = '';

			Character_overview.forEach((src, index) => {
				const name = names[index]; // 获取对应的name
				const img = document.createElement('img');
				img.src = src;
				img.id = name; // 设置id为对应的name

				// 如果图片加载失败，隐藏它
				img.onerror = () => {
					img.classList.add('failed'); // 添加一个类来隐藏图片
				};

				// 添加点击事件，点击时将图片添加到 #character-avatar 和 #character-skill
				img.onclick = () => {
					const overviewDiv = document.getElementById('character-overview'); //所有角色概览图
					const skillDiv = document.getElementById('character-skill'); //将技能图
					const avatarDiv = document.getElementById('character-avatar'); //角色头像
					const defFaceDiv = document.getElementById('character-def-face'); // 表情区域

					// 将点击的概览图添加到 #character-avatar
					avatarDiv.innerHTML = `<img src="${src}" alt="Character Avatar" />`;

					// 将对应的技能图添加到 #character-skill
					const skillImg = document.createElement('img');
					skillImg.src = Character_skill[index];

					// 设置技能图加载失败时替换为 error_skill.png
					skillImg.onerror = () => {
						skillImg.src = 'skill/error_skill.png'; // 如果技能图加载失败，替换为默认的错误图
					};
					skillImg.alt = `Character Skill of ${name}`;
					skillDiv.innerHTML = ''; // 清空技能区域
					skillDiv.appendChild(skillImg);

					// 加载表情图
					defFaceDiv.innerHTML = ''; // 清空表情区域
					Character_def_face.slice(index * 21, (index + 1) * 21).forEach(faceSrc => {
						const faceImg = document.createElement('img');
						faceImg.src = faceSrc;

						// 检查图片是否加载成功
						faceImg.onerror = () => {
							faceImg.style.display = 'none'; // 如果图片加载失败，则隐藏它
						};

						defFaceDiv.appendChild(faceImg);
					});

					// 隐藏 #character-overview
					overviewDiv.style.display = 'none';

					// 给 avatar 中的图片添加点击事件恢复页面
					const avatarImg = avatarDiv.querySelector('img');
					avatarImg.onclick = () => {
						// 恢复页面
						overviewDiv.style.display = ''; // 显示概览图
						avatarDiv.innerHTML = ''; // 清空 avatar 区域
						skillDiv.innerHTML = ''; // 清空技能区域
						defFaceDiv.innerHTML = ''; // 清空表情区域
					};
				};

				// 将图片添加到概览区域
				overviewDiv.appendChild(img);
			});
		}



		// 页面加载完成后调用 LoadOverview 方法
		window.onload = LoadOverview;
	</script>
	<body>
		<div id="character-overview"></div>
		<div id="character-skill"></div>
		<div id="character-avatar"></div>
		<div id="character-def-face"></div>
		<div id="character-default-body"></div>
		<div id="character-default-body-fight"></div>
		<div id="character-default-body-fight-injured"></div>
		<div id="character-bath"></div>
		<div id="character-patronag"></div>
		<div id="character-swim"></div>
		<div id="character-christmas"></div>
	</body>
</html>