<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>nijitama角色收集</title>
	</head>
	<style>
		/* 默认样式 */
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		html, body {
		    overflow-x: hidden;
		}
		#character-overview {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(128px, 1fr));
			gap: 10px;
			/* 增加图片之间的间距 */
			padding: 5px;
			/* 为容器添加内边距，避免图片紧挨着边缘 */
		}

		#character-overview img {
			width: 128px;
			height: 128px;
			object-fit: cover;
			transition: transform 0.2s ease, filter 0.2s ease;
			cursor: pointer;
		}

		#character-overview img:hover {
			transform: scale(1.1);
		}

		#character-overview img.failed {
			display: none;
		}

		/* 居中技能图、头像和表情图 */
		#character-avatar,
		#character-skill,
		#character-def-face {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;
			padding: 10px;
			/* 为每个容器添加内边距，避免图片与容器边缘紧挨着 */
			margin-bottom: 5px;
			/* 容器底部增加间距 */
		}

		#character-avatar img,
		#character-skill img,
		#character-def-face img {
			max-width: 100%;
			max-height: 100%;
			object-fit: contain;
			/* 保持图片的宽高比 */
		}

		#character-def-face {
		    display: flex;
		    flex-wrap: wrap;  /* 允许换行 */
		    gap: 5px;  /* 设置图片之间的间距为5px */
		    justify-content: center;  /* 水平居中 */
		    padding: 5px;  /* 给容器添加内边距，避免图片紧挨着容器边缘 */
		    width: 100%;
		}
		
		#character-def-face img {
		    width: auto;  /* 保持原图宽度 */
		    height: auto;  /* 保持原图高度 */
		    max-width: 100%;  /* 确保图片在父容器中不超出范围 */
		    max-height: 100%;  /* 确保图片在父容器中不超出范围 */
		    object-fit: contain;  /* 保持图片的宽高比 */
		}



		/* 当在手机上查看时，技能图宽度等于手机宽度 */
		@media (max-width: 768px) {
			#character-skill img {
				width: 100%;
				/* 让技能图宽度等于手机宽度 */
				height: auto;
				/* 保持宽高比 */
			}

			/* 确保每行至少有 3 张图片 */
			#character-def-face {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
				gap: 20px;
				/* 增加表情图之间的间距 */
				width: 100%;
			}

			#character-def-face img {
				width: 100%;
				height: auto;
				max-width: none;
				/* 取消最大宽度的限制 */
			}
		}
	</style>
	<script>
		const names = ["a000", "a001", "a002", "a003", "a004", "a005", "a006", "a007", "a008", "a009", "a010", "a011",
			"a012", "a015", "a016", "a018", "awt", "bic", "bin", "biz", "bun", "ckg", "ecg", "ecz", "har", "hit", "hiz",
			"hyu", "iga", "ina", "iwm", "iyo", "izu", "kag", "kai", "kaw", "kaz", "kii", "mik", "mus", "nag", "not",
			"oki", "osu", "oum", "owa", "sag", "san", "sim", "sin", "smu", "sur", "taj", "tnb", "tos", "wak", "ymt",
			"yzm"
		];

		//角色概览
		const Character_overview = names.map(name => `overview/f_${name}.png`);
		//角色技能图
		const Character_skill = names.map(name => `skill/c_${name}.png`);
		//角色表情图
		const Character_def_face = names.flatMap(name => {
			return Array.from({
					length: 21
				}, (_, number) =>
				`face/s_${name}_def_face_${String(number).padStart(2, '0')}.png`
			);
		});
		//角色身体图-站姿
		const Character_def_body = names.map(name => `def_body/s_${name}_def_body.png`);
		//角色身体图-战斗
		const Character_b_def_body = names.map(name => `def_body/b_${name}_def_body.png`);
		//角色身体图-战损
		const Character_b_def_dbody = names.map(name => `def_dbody/b_${name}_aw_dbody.png`);
		//角色浴室图
		const Character_barh = names.map(name => `def_dbody/s_${name}_bath_body.png`);
		//角色赞助图
		const Character_patronag = names.map(name => `def_dbody/s_${name}_pa_body.png`);
		//角色泳装
		const Character_swim = names.map(name => `def_dbody/s_${name}_swim_body.png`);
		//角色圣诞节
		const Character_christmas = names.map(name => `def_dbody/s_${name}_xmas_body.png`);

		// 加载角色概览图
		function LoadOverview() {
			const overviewDiv = document.getElementById('character-overview');
			// 清空概览区域
			overviewDiv.innerHTML = '';

			Character_overview.forEach((src, index) => {
				const name = names[index]; // 获取对应的name
				const img = document.createElement('img');
				img.src = src;
				img.alt = `Character Overview of ${name}`;
				img.id = name; // 设置id为对应的name

				// 如果图片加载失败，隐藏它
				img.onerror = () => {
					img.classList.add('failed'); // 添加一个类来隐藏图片
				};

				// 添加点击事件，点击时将图片添加到 #character-avatar 和 #character-skill
				img.onclick = () => {
					const overviewDiv = document.getElementById('character-overview'); //所有角色概览图
					const skillDiv = document.getElementById('character-skill'); //将技能图
					const avatarDiv = document.getElementById('character-avatar'); //角色头像
					const defFaceDiv = document.getElementById('character-def-face'); // 表情区域

					// 将点击的概览图添加到 #character-avatar
					avatarDiv.innerHTML = `<img src="${src}" alt="Character Avatar" />`;

					// 将对应的技能图添加到 #character-skill
					const skillImg = document.createElement('img');
					skillImg.src = Character_skill[index];

					// 设置技能图加载失败时替换为 error_skill.png
					skillImg.onerror = () => {
						skillImg.src = 'skill/error_skill.png'; // 如果技能图加载失败，替换为默认的错误图
					};
					skillImg.alt = `Character Skill of ${name}`;
					skillDiv.innerHTML = ''; // 清空技能区域
					skillDiv.appendChild(skillImg);

					// 加载表情图
					defFaceDiv.innerHTML = ''; // 清空表情区域
					Character_def_face.slice(index * 21, (index + 1) * 21).forEach(faceSrc => {
						const faceImg = document.createElement('img');
						faceImg.src = faceSrc;

						// 检查图片是否加载成功
						faceImg.onerror = () => {
							faceImg.style.display = 'none'; // 如果图片加载失败，则隐藏它
						};

						defFaceDiv.appendChild(faceImg);
					});

					// 隐藏 #character-overview
					overviewDiv.style.display = 'none';

					// 给 avatar 中的图片添加点击事件恢复页面
					const avatarImg = avatarDiv.querySelector('img');
					avatarImg.onclick = () => {
						// 恢复页面
						overviewDiv.style.display = 'grid'; // 显示概览图
						avatarDiv.innerHTML = ''; // 清空 avatar 区域
						skillDiv.innerHTML = ''; // 清空技能区域
						defFaceDiv.innerHTML = ''; // 清空表情区域
					};
				};

				// 将图片添加到概览区域
				overviewDiv.appendChild(img);
			});
		}



		// 页面加载完成后调用 LoadOverview 方法
		window.onload = LoadOverview;
	</script>
	<body>
		<div id="character-overview"></div>
		<div id="character-skill"></div>
		<div id="character-avatar"></div>
		<div id="character-def-face"></div>
		<div id="character-default-body"></div>
		<div id="character-default-body-fight"></div>
		<div id="character-default-body-fight-injured"></div>
		<div id="character-bath"></div>
		<div id="character-patronag"></div>
		<div id="character-swim"></div>
		<div id="character-christmas"></div>
	</body>
</html>